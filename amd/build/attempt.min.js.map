{"version":3,"file":"attempt.min.js","sources":["../src/attempt.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @module     mod_capquiz\n * @author     Sebastian S. Gundersen <sebastian@sgundersen.com>\n * @copyright  2019 NTNU\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery', 'core/str'], function($, mString) {\n\n    /**\n     * Show star tooltip.\n     * @param {Object} $element\n     * @param {string} text\n     */\n    function showTooltip($element, text) {\n        var $tooltip = $('.capquiz-star-tooltip');\n        $tooltip.html(text);\n        $tooltip.css('display', 'block');\n        var x = $element.offset().left - $tooltip.width() / 2;\n        var y = $element.offset().top + 32;\n        $tooltip.css('left', x + 'px');\n        $tooltip.css('top', y + 'px');\n    }\n\n    /**\n     * Hide star tooltip.\n     */\n    function hideTooltip() {\n        $('.capquiz-star-tooltip').css('display', 'none');\n    }\n\n    /**\n     * Register event listeners for showing tooltips on the stars.\n     */\n    function enableTooltips() {\n        $(document).on('mouseover', '.capquiz-quiz-stars span', function() {\n            var $self = $(this);\n            if ($self.hasClass('capquiz-star')) {\n                $.when(mString.get_string('tooltip_achieved_star', 'capquiz')).done(function(text) {\n                    showTooltip($self, text);\n                });\n            } else if ($self.hasClass('capquiz-lost-star')) {\n                $.when(mString.get_string('tooltip_lost_star', 'capquiz')).done(function(text) {\n                    showTooltip($self, text);\n                });\n            } else if ($self.hasClass('capquiz-no-star')) {\n                $.when(mString.get_string('tooltip_no_star', 'capquiz')).done(function(text) {\n                    showTooltip($self, text);\n                });\n            } else if ($self.hasClass('capquiz-help-stars')) {\n                $.when(mString.get_string('tooltip_help_star', 'capquiz')).done(function(text) {\n                    showTooltip($self, text);\n                });\n            }\n        });\n        $(document).on('mouseleave', '.capquiz-quiz-stars span', function() {\n            hideTooltip();\n        });\n    }\n\n    return {\n        initialize: function() {\n            enableTooltips();\n        }\n    };\n\n});\n"],"names":["define","$","mString","showTooltip","$element","text","$tooltip","html","css","x","offset","left","width","y","top","enableTooltips","document","on","$self","this","hasClass","when","get_string","done","initialize"],"mappings":";;;;;;AAsBAA,6BAAO,CAAC,SAAU,aAAa,SAASC,EAAGC,kBAO9BC,YAAYC,SAAUC,UACvBC,SAAWL,EAAE,yBACjBK,SAASC,KAAKF,MACdC,SAASE,IAAI,UAAW,aACpBC,EAAIL,SAASM,SAASC,KAAOL,SAASM,QAAU,EAChDC,EAAIT,SAASM,SAASI,IAAM,GAChCR,SAASE,IAAI,OAAQC,EAAI,MACzBH,SAASE,IAAI,MAAOK,EAAI,eAanBE,iBACLd,EAAEe,UAAUC,GAAG,YAAa,4BAA4B,eAChDC,MAAQjB,EAAEkB,MACVD,MAAME,SAAS,gBACfnB,EAAEoB,KAAKnB,QAAQoB,WAAW,wBAAyB,YAAYC,MAAK,SAASlB,MACzEF,YAAYe,MAAOb,SAEhBa,MAAME,SAAS,qBACtBnB,EAAEoB,KAAKnB,QAAQoB,WAAW,oBAAqB,YAAYC,MAAK,SAASlB,MACrEF,YAAYe,MAAOb,SAEhBa,MAAME,SAAS,mBACtBnB,EAAEoB,KAAKnB,QAAQoB,WAAW,kBAAmB,YAAYC,MAAK,SAASlB,MACnEF,YAAYe,MAAOb,SAEhBa,MAAME,SAAS,uBACtBnB,EAAEoB,KAAKnB,QAAQoB,WAAW,oBAAqB,YAAYC,MAAK,SAASlB,MACrEF,YAAYe,MAAOb,YAI/BJ,EAAEe,UAAUC,GAAG,aAAc,4BAA4B,WA3BzDhB,EAAE,yBAAyBO,IAAI,UAAW,iBAgCvC,CACHgB,WAAY,WACRT"}