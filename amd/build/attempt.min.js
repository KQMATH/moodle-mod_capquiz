define(["jquery","core/str"],function(t,n){function s(n,s){var a=t(".capquiz-star-tooltip");a.html(s),a.css("display","block");var i=n.offset().left-a.width()/2,e=n.offset().top+32;a.css("left",i+"px"),a.css("top",e+"px")}function a(){t(document).on("mouseover",".capquiz-quiz-stars span",function(){var a=t(this);a.hasClass("capquiz-star")?t.when(n.get_string("tooltip_achieved_star","capquiz")).done(function(t){s(a,t)}):a.hasClass("capquiz-lost-star")?t.when(n.get_string("tooltip_lost_star","capquiz")).done(function(t){s(a,t)}):a.hasClass("capquiz-no-star")?t.when(n.get_string("tooltip_no_star","capquiz")).done(function(t){s(a,t)}):a.hasClass("capquiz-help-stars")&&t.when(n.get_string("tooltip_help_star","capquiz")).done(function(t){s(a,t)})}),t(document).on("mouseleave",".capquiz-quiz-stars span",function(){t(".capquiz-star-tooltip").css("display","none")})}return{initialize:function(){var n,s,i=t("#capquiz_review_next");i.length&&(n=i.parent(),(s=t(".capquiz-student-comment")).find("textarea").val().length&&s.prop("open",!0),n.prepend(s)),a()}}});