define(["jquery"],t=>{let a={capquizId:0};function i(e){e.data("saving",!0),e.data("dirty",!1);let n=e.next();var d,r,s,o;n.css("color","blue"),d=e.data("question-id"),r=e.val(),s=(()=>{!0===e.data("dirty")?i(e):(n.css("color","green"),e.data("dirty",!1),e.data("saving",!1))}),o=(()=>{n.css("color","red")}),t.ajax({type:"post",url:"action.php",data:{action:"set-question-rating",id:a.capquizId,"question-id":d,rating:r},success:s,error:o})}return{initialize:e=>{a.capquizId=e,t(document).on("input",".capquiz-question-rating input",a=>{let e=t(a.target);!0!==e.data("saving")?i(e):e.data("dirty",!0)})}}});