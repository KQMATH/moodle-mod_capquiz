define(["jquery"],function(t){var a={capquizId:0};function i(n){n.data("saving",!0),n.data("dirty",!1);var r,u,o,c,e=n.next();e.css("color","blue"),r=n.data("question-id"),u=n.val(),o=function(){!0===n.data("dirty")?i(n):(e.css("color","green"),n.data("dirty",!1),n.data("saving",!1))},c=function(){e.css("color","red")},t.ajax({type:"post",url:"action.php",data:{action:"set-question-rating",id:a.capquizId,"question-id":r,rating:u},success:o,error:c})}return{initialize:function(n){a.capquizId=n,t(document).on("input",".capquiz-question-rating input",function(a){var n=t(a.target);!0!==n.data("saving")?i(n):n.data("dirty",!0)}),t(".capquiz-question-rating-submit-wrapper button").each(function(a,i){t(i).attr("tabindex",-1)})}}});