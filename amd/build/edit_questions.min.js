define(["jquery"],t=>{let a={capquizId:0};function i(e){e.data("saving",!0),e.data("dirty",!1);let n=e.next();var r,d,u,s;n.css("color","blue"),r=e.data("question-id"),d=e.val(),u=(()=>{!0===e.data("dirty")?i(e):(n.css("color","green"),e.data("dirty",!1),e.data("saving",!1))}),s=(()=>{n.css("color","red")}),t.ajax({type:"post",url:"action.php",data:{action:"set-question-rating",id:a.capquizId,"question-id":r,rating:d},success:u,error:s})}return{initialize:e=>{a.capquizId=e,t(document).on("input",".capquiz-question-rating input",a=>{let e=t(a.target);!0!==e.data("saving")?i(e):e.data("dirty",!0)}),t(".capquiz-question-rating-submit-wrapper button").each((a,i)=>{t(i).attr("tabindex",-1)})}}});